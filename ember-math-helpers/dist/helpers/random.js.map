{"version":3,"file":"random.js","sources":["../../src/helpers/random.js"],"sourcesContent":["import { helper } from '@ember/component/helper';\nimport { isArray } from '@ember/array';\n\nconst { min, max } = Math;\n\n// @see: https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number/toFixed#max(0, min(MAX_DECIMALS, decimals))));\nconst MAX_DECIMALS = 20;\n\n// ðŸ’¡ Using Number.toFixed, we'll get rounding for free alongside\n// decimal precision. We'll default to whole-number rounding simply\n// by defaulting `decimals` to 0\nconst DEFAULT_OPTS = {\n  decimals: 0,\n};\n\n/**\n * Executes `Math.random` with the provided upper-bounded randoms, lower- and upper-bounded randoms,\n * and the option to configure decimal precision.\n *\n * ```hbs\n * {{random}} or {{random decimals=4}}\n * ```\n *\n * ```hbs\n * {{random 42}} or {{random 42 decimals=4}}\n * ```\n *\n * ```hbs\n * {{random 21 1797}} or {{random 21 1797 decimals=4}}\n * ```\n *\n * @param {number} upperBound\n * @param {number} lowerBound\n * @param {object} { decimals } decimal precision value\n * @return {number} The random generated number\n */\nexport function random(params, { decimals } = DEFAULT_OPTS) {\n  // no positional args, but only an options hash from named args\n  if (typeof params === 'object' && !isArray(params)) {\n    decimals =\n      typeof params.decimals !== 'undefined'\n        ? params.decimals\n        : DEFAULT_OPTS.decimals;\n\n    return +Math.random().toFixed(max(0, min(MAX_DECIMALS, decimals)));\n  }\n\n  // one positional arg: treat it as an upper bound\n  if (params && params.length === 1) {\n    const [upperBound] = params;\n\n    return +(Math.random() * upperBound).toFixed(\n      max(0, min(MAX_DECIMALS, decimals))\n    );\n  }\n\n  // two positional args: use them to derive upper and lower bounds\n  if (params && params.length === 2) {\n    let [lowerBound, upperBound] = params;\n\n    // for convenience, swap if a higher number is accidentally passed first\n    if (upperBound < lowerBound) {\n      [lowerBound, upperBound] = [upperBound, lowerBound];\n    }\n    return +(lowerBound + Math.random() * (upperBound - lowerBound)).toFixed(\n      max(0, min(MAX_DECIMALS, decimals))\n    );\n  }\n\n  // no positional or named args: just return Math.random() w/ default decimal precision\n  return +Math.random().toFixed(max(0, min(MAX_DECIMALS, decimals)));\n}\n\nexport default helper(random);\n"],"names":["min","max","Math","MAX_DECIMALS","DEFAULT_OPTS","decimals","random","params","isArray","toFixed","length","upperBound","lowerBound","helper"],"mappings":";;;AAGA,MAAM;EAAEA,GAAG;AAAEC,EAAAA,GAAAA;AAAI,CAAC,GAAGC,IAAI,CAAA;;AAEzB;AACA,MAAMC,YAAY,GAAG,EAAE,CAAA;;AAEvB;AACA;AACA;AACA,MAAMC,YAAY,GAAG;AACnBC,EAAAA,QAAQ,EAAE,CAAA;AACZ,CAAC,CAAA;;AAED;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACO,SAASC,MAAM,CAACC,MAAM,EAAE;AAAEF,EAAAA,QAAAA;AAAS,CAAC,GAAGD,YAAY,EAAE;AAC1D;EACA,IAAI,OAAOG,MAAM,KAAK,QAAQ,IAAI,CAACC,OAAO,CAACD,MAAM,CAAC,EAAE;AAClDF,IAAAA,QAAQ,GACN,OAAOE,MAAM,CAACF,QAAQ,KAAK,WAAW,GAClCE,MAAM,CAACF,QAAQ,GACfD,YAAY,CAACC,QAAQ,CAAA;AAE3B,IAAA,OAAO,CAACH,IAAI,CAACI,MAAM,EAAE,CAACG,OAAO,CAACR,GAAG,CAAC,CAAC,EAAED,GAAG,CAACG,YAAY,EAAEE,QAAQ,CAAC,CAAC,CAAC,CAAA;AACpE,GAAA;;AAEA;AACA,EAAA,IAAIE,MAAM,IAAIA,MAAM,CAACG,MAAM,KAAK,CAAC,EAAE;AACjC,IAAA,MAAM,CAACC,UAAU,CAAC,GAAGJ,MAAM,CAAA;IAE3B,OAAO,CAAC,CAACL,IAAI,CAACI,MAAM,EAAE,GAAGK,UAAU,EAAEF,OAAO,CAC1CR,GAAG,CAAC,CAAC,EAAED,GAAG,CAACG,YAAY,EAAEE,QAAQ,CAAC,CAAC,CACpC,CAAA;AACH,GAAA;;AAEA;AACA,EAAA,IAAIE,MAAM,IAAIA,MAAM,CAACG,MAAM,KAAK,CAAC,EAAE;AACjC,IAAA,IAAI,CAACE,UAAU,EAAED,UAAU,CAAC,GAAGJ,MAAM,CAAA;;AAErC;IACA,IAAII,UAAU,GAAGC,UAAU,EAAE;MAC3B,CAACA,UAAU,EAAED,UAAU,CAAC,GAAG,CAACA,UAAU,EAAEC,UAAU,CAAC,CAAA;AACrD,KAAA;IACA,OAAO,CAAC,CAACA,UAAU,GAAGV,IAAI,CAACI,MAAM,EAAE,IAAIK,UAAU,GAAGC,UAAU,CAAC,EAAEH,OAAO,CACtER,GAAG,CAAC,CAAC,EAAED,GAAG,CAACG,YAAY,EAAEE,QAAQ,CAAC,CAAC,CACpC,CAAA;AACH,GAAA;;AAEA;AACA,EAAA,OAAO,CAACH,IAAI,CAACI,MAAM,EAAE,CAACG,OAAO,CAACR,GAAG,CAAC,CAAC,EAAED,GAAG,CAACG,YAAY,EAAEE,QAAQ,CAAC,CAAC,CAAC,CAAA;AACpE,CAAA;AAEA,eAAeQ,MAAM,CAACP,MAAM,CAAC;;;;"}